var Coveo_tmp_SF=window.Coveo||{};window.Coveo=function(n){var o={};function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=194)}({0:function(t,e){t.exports=window.Coveo},12:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),r=function(a){function c(t,e,n,o){var i=a.call(this,t,c.ID,l.ComponentOptions.initComponentOptions(t,c,e))||this;i.element=t,i.options=e,i.bindings=n,i.result=o,i.result=i.result||i.resolveResult(),l.Assert.exists(i.result);var r=l.$$("div");r.addClass("coveo-salesforce-thumbnail-container");var s=l.$$("img");return s.el.setAttribute("width",i.options.width),s.el.setAttribute("height",i.options.height),s.setAttribute("src",i.getSalesforceThumbnailURI()),s.addClass("coveo-salesforce-thumbnail-img"),r.append(s.el),l.$$(i.element).append(r.el),s.one("error",function(){var t=l.$$("span");t.addClass(c.SEARCHUI_SALESFORCE_FILE_ICON_CLASS),r.addClass(c.PLACEHOLDER_CLASS),r.append(t.el),s.el.style.display="none"}),i}return i(c,a),c.prototype.getSalesforceThumbnailURI=function(){if(this.result.raw.sflatestpublishedversionid)return c.SALESFORCE_THUMBNAIL_URI+"?"+c.RENDITION_SIZE+"&versionId="+this.result.raw.sflatestpublishedversionid},c.ID="SalesforceThumbnail",c.SALESFORCE_THUMBNAIL_URI="/sfc/servlet.shepherd/version/renditionDownload",c.RENDITION_SIZE="rendition=THUMB720BY480",c.SEARCHUI_SALESFORCE_FILE_ICON_CLASS="coveo-filetype-salesforce-standard-file",c.PLACEHOLDER_CLASS="coveo-salesforce-thumbnail-placeholder",c.options={width:l.ComponentOptions.buildStringOption({defaultValue:"120px"}),height:l.ComponentOptions.buildStringOption({defaultValue:"auto"})},c.fields=["sflatestpublishedversionid"],c}(l.Component);e.SalesforceThumbnail=r,l.Initialization.registerComponentFields(r.ID,r.fields),l.Initialization.registerAutoCreateComponent(r)},128:function(t,e,n){"use strict";var o,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),i=function(i){function r(t,e,n){var o=i.call(this,t,r.ID,n)||this;return o.element=t,o.options=e,o.options=a.ComponentOptions.initComponentOptions(t,r,e),o.bind.onRootElement(a.QueryEvents.buildingQuery,function(t){return o.handleBuildingQuery(t)}),o}return s(r,i),r.prototype.handleBuildingQuery=function(t){new a.QueryboxQueryParameters(this.options).addParameters(t.queryBuilder,this.queryStateModel.get("q"))},r.prototype.handleQueryStateChange=function(t){t.value!=this.lastQuery&&(this.lastQuery=t.value,this.queryController.executeQuery({searchAsYouType:!1,logInActionsHistory:!0}))},r.ID="CommunityStateManager",r.options={enableLowercaseOperators:a.Querybox.options.enableLowercaseOperators,enablePartialMatch:a.Querybox.options.enablePartialMatch,enableQuerySyntax:a.Querybox.options.enableQuerySyntax,enableQuestionMarks:a.Querybox.options.enableQuestionMarks,enableWildcards:a.Querybox.options.enableWildcards,partialMatchKeywords:a.Querybox.options.partialMatchKeywords,partialMatchThreshold:a.Querybox.options.partialMatchThreshold},r}(a.Component);e.CommunityStateManager=i,a.Initialization.registerAutoCreateComponent(i)},134:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),u=function(){function t(){}return t.searchPageInitialized="searchPageInitialized",t}();e.CommunitySearchboxEvent=u;var r=function(a){function c(t,e,n){var o=a.call(this,t,e,n)||this;o.element=t,o.options=e;var i=l.$$(o.element).find(".magic-box-icon");i.innerHTML='<svg enable-background="new 0 0 13 13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m7.881 6.501 4.834-4.834c.38-.38.38-1.001 0-1.381s-1.001-.38-1.381 0l-4.834 4.834-4.834-4.835c-.38-.38-1.001-.38-1.381 0s-.38 1.001 0 1.381l4.834 4.834-4.834 4.834c-.38.38-.38 1.001 0 1.381s1.001.38 1.381 0l4.834-4.834 4.834 4.834c.38.38 1.001.38 1.381 0s .38-1.001 0-1.381z"/></g></svg>',i.getElementsByTagName("svg")[0].classList.add("magic-box-clear-svg"),o.options=l.ComponentOptions.initComponentOptions(t,c,e),o.bind.onRootElement(l.QueryEvents.newQuery,function(t){return o.handleNewQuery(t)}),o.bind.onRootElement(u.searchPageInitialized,function(t){return o.handleSearchPageInitialized(t)}),o.magicBox.onsubmit=function(){return o.handleMagixboxSubmit()},o.options.searchPageName||(o.options.searchPageName=c.DEFAULT_SEARCH_PAGE_NAME),o.bind.onRootElement(l.QueryEvents.doneBuildingQuery,function(t){t.cancel=!0,l.QueryboxQueryParameters.allowDuplicateQuery()}),o.existingInputValue=o.magicBox.getText(),o.existingInputValue&&o.bind.onRootElement(l.InitializationEvents.afterInitialization,function(){o.magicBox.setText(o.existingInputValue),o.magicBox.showSuggestion()}),o.bind.onRootElement(l.InitializationEvents.restoreHistoryState,function(){var t=o.getQueryStateHashValue();t&&o.setText(t)});var r=$(".CoveoPageContent #search").get(0);if(r&&-1==r.className.indexOf("CoveoCaseCreationInterface")){var s=l.Component.get(r,l.SearchInterface,!0);s?o.handleSearchPageInitialized({searchInterface:s}):o.bind.on(r,l.InitializationEvents.afterInitialization,function(){s=l.Component.get(r,l.SearchInterface,!0),o.handleSearchPageInitialized({searchInterface:s})})}return o.usageAnalytics&&o.usageAnalytics.setOriginContext("CommunitySearch"),window.addEventListener("hashchange",function(){return o.handleHashChange()}),o}return i(c,a),c.prototype.handleSearchPageInitialized=function(t){var n=this;if(t.searchInterface&&t.searchInterface!==this.externalSearchInterface){this.externalSearchInterface=t.searchInterface;var o=this.externalSearchInterface.root,i=this.externalSearchInterface.queryStateModel;this.queryController=this.externalSearchInterface.queryController,this.queryStateModel=this.externalSearchInterface.queryStateModel,this.bind.on(o,l.QueryEvents.duringQuery,function(t){n.bind.trigger(n.root,l.QueryEvents.duringQuery,t)}),this.bind.onRootElement(l.AnalyticsEvents.changeAnalyticsCustomData,function(t){if(n.externalSearchInterface&&n.externalSearchInterface.usageAnalytics){var e=n.externalSearchInterface.usageAnalytics;t.originLevel1=e.originLevel1||t.originLevel1}i&&(t.originLevel2=i.get(l.QueryStateModel.attributesEnum.t)),n.bind.trigger(o,l.AnalyticsEvents.changeAnalyticsCustomData,t)})}},c.prototype.handleMagixboxSubmit=function(){if(this.getCurrentPageName()!==this.options.searchPageName&&this.existingInputValue!=this.getText()){if(this.magicBox.getText()){this.currentSearchEvent=this.usageAnalytics.getPendingSearchEvent();var t=$A.get("e.force:navigateToURL");t.setParams({url:"/"+this.options.searchPageName,isredirect:!1}),t.fire(),window.location.replace("#q="+encodeURIComponent(this.magicBox.getText()))}}else this.submit()},c.prototype.handleNewQuery=function(t){if(this.getCurrentPageName()!==this.options.searchPageName&&this.existingInputValue!=this.getText()){if(this.magicBox.getText()){this.currentSearchEvent=this.usageAnalytics.getPendingSearchEvent();var e=$A.get("e.force:navigateToURL");e.setParams({url:"/"+this.options.searchPageName,isredirect:!1}),e.fire(),window.location.replace("#q="+encodeURIComponent(this.magicBox.getText()))}}else this.submit()},c.prototype.handleHashChange=function(){if(this.getCurrentPageName()===this.options.searchPageName){var t=this.getQueryStateHashValue();t&&this.setText(t)}},c.prototype.getQueryStateHashValue=function(){try{return l.HashUtils.getValue(l.QueryStateModel.attributesEnum.q,l.HashUtils.getHash(window))}catch(t){return this.logger.debug("No state found for parameter "+l.QueryStateModel.attributesEnum.q+"."),null}},c.prototype.getCurrentPageName=function(){var t=window.location.pathname,e=t.lastIndexOf("/s/")+3;return t.substring(e)},c.ID="StandaloneSearchbox",c.DEFAULT_SEARCH_PAGE_NAME="global-search/%40uri",c.options={searchPageName:l.ComponentOptions.buildStringOption({defaultValue:c.DEFAULT_SEARCH_PAGE_NAME}),placeholder:l.Omnibox.options.placeholder,triggerQueryOnClear:l.Omnibox.options.triggerQueryOnClear,enableFieldAddon:l.Omnibox.options.enableFieldAddon,enableQueryExtensionAddon:l.Omnibox.options.enableQueryExtensionAddon,enableQuerySuggestAddon:l.Omnibox.options.enableQuerySuggestAddon},c}(l.Omnibox);e.StandaloneSearchbox=r,l.Initialization.registerAutoCreateComponent(r)},18:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(22),i=n(23),r=n(24);e.Icons={closeIcon:o,attachIcon:i,waitIcon:r}},19:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.onPostToFeed="ResultActionsEvents.onPostToFeed",t.onSendAsEmail="ResultActionsEvents.onSendAsEmail",t.onSendToLiveAgent="ResultActionsEvents.onSendToLiveAgent",t.onChatEnded="ResultActionsEvents.onChatEnded",t}();e.ResultActionsEvents=o},194:function(t,n,e){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),o(e(70));var i=e(134);n.CommunitySearchboxEvent=i.CommunitySearchboxEvent,o(e(128))},22:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><path d="M.818 2.232L2.232.818l19.02 19.02-1.413 1.415z"></path><path d="M.818 19.768L19.838.748l1.415 1.413L2.232 21.182z"></path></svg>'},23:function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 78.905 77.861" enable-background="new 0 0 78.905 77.861">\n  <g transform="translate(0,-952.36218)" id="g4">\n\t  <path d="m 71.828,957.626 c 8.674,7.675 9.487,20.969 1.813,29.643 l -37.107,41.941 c -1.098,1.241 -2.994,1.357 -4.235,0.259 -1.241,-1.098 -1.357,-2.994 -0.259,-4.235 l 37.107,-41.941 c 5.541,-6.263 4.968,-15.633 -1.295,-21.174 -6.263,-5.541 -15.633,-4.968 -21.174,1.295 l -38.433,43.439 c -3.338,3.773 -2.996,9.366 0.777,12.704 3.773,3.338 9.366,2.996 12.704,-0.777 l 29.100468,-33.05767 c 1.13279,-1.28683 0.800246,-3.29785 -0.259,-4.235 -1.059246,-0.93715 -3.099,-1.025 -4.235,0.259 0,0 -9.944868,9.86376 -18.793868,20.71177 -1.04,1.275 -3.505,4.666 -6.064,2.563 -2.657,-2.184 0.427,-5.30501 1.57,-6.53801 9.517,-10.268 18.793868,-20.71176 18.793868,-20.71176 3.269,-3.695 9.009,-4.046 12.704,-0.777 3.695,3.27 4.046,9.009 0.777,12.704 L 26.219,1022.756 c -5.472,6.185 -14.989,6.767 -21.174,1.295 -6.185,-5.472 -6.767,-14.989 -1.295,-21.174 l 38.432,-43.439 c 7.678,-8.673 20.972,-9.486 29.646,-1.812 z"/>\n  </g>\n</svg>\n'},24:function(t,e){t.exports='<svg enable-background="new 0 0 18 18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n  <g>\n    <path d="m16.76 8.051c-.448 0-.855-.303-.969-.757-.78-3.117-3.573-5.294-6.791-5.294s-6.01 2.177-6.79 5.294c-.134.537-.679.861-1.213.727-.536-.134-.861-.677-.728-1.212 1.004-4.009 4.594-6.809 8.731-6.809 4.138 0 7.728 2.8 8.73 6.809.135.536-.191 1.079-.727 1.213-.081.02-.162.029-.243.029z"/>\n    <path d="m9 18c-4.238 0-7.943-3.007-8.809-7.149-.113-.541.234-1.071.774-1.184.541-.112 1.071.232 1.184.773.674 3.222 3.555 5.56 6.851 5.56s6.178-2.338 6.852-5.56c.113-.539.634-.892 1.184-.773.54.112.887.643.773 1.184-.866 4.142-4.57 7.149-8.809 7.149z"/>\n  </g>\n</svg>\n'},25:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var c=n(0),l=n(6),r=n(18),s=function(s){function a(t,e,n,o){var i=s.call(this,t,a.ID,n)||this;i.element=t,i.options=e,i.bindings=n,i.result=o,i.options=c.ComponentOptions.initComponentOptions(t,a,e),i.result=i.result||i.resolveResult(),i.searchInterface=i.searchInterface||i.resolveSearchInterface(),i.attached=!1,i.loading=!1,i.initialized=!1;var r=i.options.attachToCaseEndpoint();return null!=r?i.setAttachToCaseEndpoint(r):(i.logger.warn("No endpoint detected, make sure to set one using the SetAttachToCaseEndpoint method."),i.element.remove()),i}return i(a,s),a.prototype.initialize=function(){var n=this;if(null!=this.attachToCaseEndpoint){var t=this.attachToCaseEndpoint.data;t.then?(this.loading=!0,t.then(function(t){n.attachToCaseEndpoint.data=t,n.handleData(n.attachToCaseEndpoint.data),n.initialized=!0,n.loading=!1,n.updateButton()}).catch(function(t){n.logger.error("An error occured while getting attached results",t.message)})):(this.attachToCaseEndpoint.data=this.attachToCaseEndpoint.data,this.attachToCaseEndpoint.data.succeeded?(this.handleData(this.attachToCaseEndpoint.data),this.initialized=!0):this.logger.error("An error occured while getting attached results",this.attachToCaseEndpoint.data.message)),this.bind.on(window,l.UserActionEvents.attachedResultChange,function(t){return n.handleAttachedResultChangeEvent(t)}),$(this.root).on(l.UserActionEvents.attachToCaseStateChanged,function(t,e){return n.handleStateChanged(e)}),this.renderButton()}else this.logger.warn("No endpoint detected, make sure to set one using the SetAttachToCaseEndpoint method.")},a.prototype.attach=function(){var e=this;if(!this.isAttached()||!this.initialized||this.loading){this.loading=!0,this.updateButton();var t=["uriHash","resultUrl","source","title","name"],n=[],o=this.result.raw.sfkbversionnumber;if(this.result.raw.sfkbid&&o&&(t.push("articleLanguage"),o=Number(o),_.isNaN(o))){var i="The field sfkbversionnumber is not a valid Number.";return this.logger.error(i),void this.displayModalBoxHelper(i)}var r={resultUrl:c.StringAndHoles.shortenString(this.result.clickUri,250,"...").value,source:this.result.raw.source,title:c.StringAndHoles.shortenString(this.result.title,250,"...").value,name:c.StringAndHoles.shortenString(this.result.title,80,"...").value,uriHash:this.result.raw.urihash,knowledgeArticleId:this.result.raw.sfkbid,articleLanguage:this.result.raw.sflanguage,articleVersionNumber:o,articlePublishStatus:this.result.raw.sfpublishstatus,caseId:this.attachToCaseEndpoint.caseId,customs:{}};if(t.forEach(function(t){_.isEmpty(r[t])&&n.push(t)}),0<n.length){i="You're missing the "+n.join(", ")+" field(s).";return this.logger.error(i),void this.displayModalBoxHelper(i)}var s={result:this.result,dataToAttach:r};$(window).trigger(l.UserActionEvents.attachToCase,s),this.logger.info("Attaching result to case",s),this.attachToCaseEndpoint.attachToCase(s.dataToAttach,function(t){return e.handleAttachCallback(t)})}},a.prototype.detach=function(){var e=this;if(!this.isAttached()&&this.initialized&&!this.loading)return!1;this.loading=!0,this.updateButton();var t={result:this.result,caseId:this.attachToCaseEndpoint.caseId};$(window).trigger(l.UserActionEvents.detachFromCase,t),this.logger.info("Detaching result from case",t),this.attachToCaseEndpoint.detachFromCase(this.result.raw.urihash,this.result.raw.sfkbid,this.attachToCaseEndpoint.caseId,function(t){return e.handleDetachCallback(t)})},a.prototype.setAttachToCaseEndpoint=function(t){null!=t&&(this.attachToCaseEndpoint=t,this.initialize())},a.prototype.isAttached=function(){return this.attached},a.prototype.handleClick=function(){this.loading||(this.isAttached()?this.detach():this.attach())},a.prototype.handleData=function(t){this.attachedResults=t.attachedResults,this.attached=_.contains(t.attachedResults,this.result.raw.urihash)||!c.Utils.isNullOrEmptyString(this.result.raw.sfkbid)&&_.contains(t.attachedResults,this.result.raw.sfkbid)},a.prototype.handleAttachCallback=function(t){if(null!=t)if(t.succeeded){this.attached=!0,t.message&&this.logger.warn(t.message),this.attachedResults.push(this.result.raw.urihash),c.Utils.isNullOrEmptyString(this.result.raw.sfkbid)||this.attachedResults.push(this.result.raw.sfkbid),$(window).trigger("attachedResultChange",{attachedResults:this.attachedResults.slice(0),caseId:this.attachToCaseEndpoint.caseId});var e={articleID:this.result.raw.sfkbid,caseID:this.attachToCaseEndpoint.caseId,resultUriHash:this.result.raw.urihash,author:this.result.raw.author};this.usageAnalytics.logClickEvent(c.analyticsActionCauseList.caseAttach,{documentTitle:this.result.title,documentURL:this.result.clickUri,author:this.result.raw.author},this.result,this.root),this.usageAnalytics.logCustomEvent(c.analyticsActionCauseList.caseAttach,e,this.root)}else this.logger.error("Attach failed",t.message),this.displayModalBoxHelper(t.message);this.loading=!1,this.updateButton()},a.prototype.handleDetachCallback=function(t){if(null!=t)if(t.succeeded){this.attached=!1,t.message&&this.logger.warn(t.message),this.logger.debug("Array before delete",this.attachedResults.concat()),this.deleteFromResults(this.result.raw.urihash),c.Utils.isNullOrEmptyString(this.result.raw.sfkbid)||this.deleteFromResults(this.result.raw.sfkbid),this.logger.debug("Array after delete",this.attachedResults),$(window).trigger("attachedResultChange",{attachedResults:this.attachedResults.slice(0),caseId:this.attachToCaseEndpoint.caseId});var e={articleID:this.result.raw.sfkbid,caseID:this.attachToCaseEndpoint.caseId,resultUriHash:this.result.raw.urihash,author:this.result.raw.author};this.usageAnalytics.logCustomEvent(c.analyticsActionCauseList.caseDetach,e,this.root)}else this.logger.error("Detach failed",t.message);this.loading=!1,this.updateButton()},a.prototype.deleteFromResults=function(t){this.attachedResults.splice(this.attachedResults.indexOf(t),1)},a.prototype.computeIsAttached=function(){return _.contains(this.attachedResults,this.result.raw.urihash)||!c.Utils.isNullOrEmptyString(this.result.raw.sfkbid)&&_.contains(this.attachedResults,this.result.raw.sfkbid)},a.prototype.handleStateChanged=function(t){t.target!=this.element&&t.urihash==this.result.raw.urihash&&(this.attached=this.computeIsAttached(),this.loading=t.loading,this.updateButton(!1))},a.prototype.handleAttachedResultChangeEvent=function(t){if(this.attachToCaseEndpoint.caseId==t.caseId){var e=this.attachToCaseEndpoint.data;this.attachedResults=t.attachedResults,e.attachedResults=this.attachedResults,this.attached=this.computeIsAttached(),this.updateButton(!1)}},a.prototype.displayModalBoxHelper=function(t){Coveo.ModalBox.open($("<p>").text(t).get(0),{title:"An error occured",overlayClose:!0,buttons:Coveo.ModalBox.BUTTON.OK})},a.prototype.renderButton=function(){var t=this;$(this.element).empty(),this.buttonElement=$(document.createElement("div")).appendTo(this.element),$(r.Icons.attachIcon).addClass("coveo-attach-icon").appendTo(this.buttonElement),$(r.Icons.waitIcon).addClass("coveo-loading-icon").appendTo(this.buttonElement),this.options.displayTooltip&&(this.tooltipElement=$(document.createElement("div")).addClass("coveo-caption-for-icon").appendTo(this.element)),this.options.displayText&&(this.textElement=$(document.createElement("span")).appendTo(this.buttonElement),this.textElement.addClass("coveo-attach-to-case-text")),this.options.readonly||($(this.element).click(function(){return t.handleClick()}),$(this.element).hover(function(){return t.handleHover(!0)},function(){return t.handleHover(!1)})),this.updateButton()},a.prototype.handleHover=function(t){if(this.isAttached()&&this.options.displayText){var e=t?c.l("Detach"):c.l("Attached");this.textElement.text(e)}},a.prototype.sendStateChangedEvent=function(){var t={target:this.element,urihash:this.result.raw.urihash,loading:this.loading};$(this.root).trigger(l.UserActionEvents.attachToCaseStateChanged,t)},a.prototype.updateButton=function(t){void 0===t&&(t=!0),this.buttonElement.removeClass(),this.loading?this.buttonElement.addClass("coveo-loading"):this.isAttached()?this.buttonElement.addClass("coveo-attached"):this.options.readonly||this.buttonElement.addClass("coveo-attach"),this.options.readonly&&this.buttonElement.addClass("coveo-readonly"),this.options.displayText&&this.textElement.text(this.isAttached()?c.l("Attached"):c.l("Attach")),this.options.displayTooltip&&this.tooltipElement.text(this.isAttached()?c.l("Attached_tooltip"):c.l("Attach_tooltip")),t&&this.sendStateChangedEvent()},a.ID="AttachToCase",a.fields=["sfkbid","sfkbversionnumber","sfversionnumber","sflanguage"],a.options={displayText:c.ComponentOptions.buildBooleanOption({defaultValue:!1}),displayTooltip:c.ComponentOptions.buildBooleanOption({defaultValue:!1}),readonly:c.ComponentOptions.buildBooleanOption({defaultValue:!1}),attachToCaseEndpoint:c.ComponentOptions.buildCustomOption(function(t){return function(){return window[t]}},{defaultFunction:function(){return function(){return window.attachToCaseEndpoint}}})},a}(c.Component);e.AttachToCase=s,c.Initialization.registerComponentFields(s.ID,s.fields),c.Initialization.registerAutoCreateComponent(s)},26:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);function r(t){return 0==t.toLowerCase().indexOf("ka")&&(15==t.length||18==t.length)}e.getExpressions=function(t){var e=new i.ExpressionBuilder,n=[],o=[];return t.forEach(function(t){r(t)?n.push(t):o.push(t)}),0<o.length&&e.addFieldExpression("@urihash","=",o),0<n.length&&e.addFieldExpression("@sfkbid","=",n),n.length+o.length==0&&e.add("NOT @uri"),e.build(" OR ")},e.isKnowledgeArticleId=r,e.handleAttachToCaseEvent=function(t,e,n){if(t&&t.caseId==e.dataToAttach.caseId){var o=t.data,i=!1;if(o.succeeded){_.contains(o.attachedResults,e.result.raw.urihash)||(o.attachedResults.push(e.result.raw.urihash),i=!0);var r=e.result.raw.sfkbid;r&&(_.contains(o.attachedResults,r)||(o.attachedResults.push(r),i=!0))}i&&n(o)}},e.handleDetachFromCase=function(t,e,n){if(t&&t.caseId==e.caseId){var o=t.data,i=!1;if(o.succeeded){_.contains(o.attachedResults,e.result.raw.urihash)&&(o.attachedResults.splice(o.attachedResults.indexOf(e.result.raw.urihash),1),i=!0);var r=e.result.raw.sfkbid;r&&_.contains(o.attachedResults,r)&&(o.attachedResults.splice(o.attachedResults.indexOf(r),1),i=!0)}i&&n(o)}},e.handleEndpointDataPromise=function(e){var t=e.data,n=e.data;return t&&t.then?t.then(function(t){return e.data=t}):n&&n.succeeded?Promise.resolve(n):void 0}},27:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),r=function(a){function c(t,e,n,o){var i=a.call(this,t,c.ID,n)||this;i.element=t,i.options=e,i.bindings=n,i.result=o,i.options=l.ComponentOptions.initComponentOptions(t,c,e),i.result=i.result||i.resolveResult(),l.Assert.exists(i.result);var r=l.$$("div"),s=l.$$("img");return s.el.setAttribute("width",i.options.width),s.el.setAttribute("height",i.options.height),s.addClass(c.IMG_CLASS),r.append(s.el),i.getPhotoUrl()?(s.el.onerror=function(){i.setDefaultImage(s.el)},s.setAttribute("src",i.getPhotoUrl())):i.setDefaultImage(s.el),l.$$(i.element).append(r.el),i}return i(c,a),c.prototype.setDefaultImage=function(t){var e=l.$$("span");e.addClass(c.USER_SVG_CLASS),e.addClass(c.THUMBNAIL_PLACEHOLDER_CLASS),t.parentElement.appendChild(e.el),l.$$(t).remove()},c.prototype.getPhotoUrl=function(){return this.result.raw.sfsmallphotourl||this.result.raw.sfcreatedbysmallphotourl||void 0},c.USER_SVG_CLASS="coveo-filetype-salesforce-standard-post",c.THUMBNAIL_PLACEHOLDER_CLASS="coveo-chatter-thumbnail-placeholder",c.IMG_CLASS="coveo-chatter-thumbnail-img",c.ID="ChatterThumbnail",c.options={width:l.ComponentOptions.buildStringOption({defaultValue:"45px"}),height:l.ComponentOptions.buildStringOption({defaultValue:"45px"})},c}(l.Component);e.ChatterThumbnail=r,l.Initialization.registerComponentFields(r.ID,["sfsmallphotourl","sfcreatedbysmallphotourl"]),l.Initialization.registerAutoCreateComponent(r)},3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=n(0),o=function(){function l(){}return l.isInSalesforce=function(){return null!=window.sforce},l.isInLightning=function(){return void 0!==window.$A},l.isInSalesforceConsole=function(){return l.isInSalesforce()&&null!=window.sforce.console&&window.sforce.console.isInConsole()},l.focusOrOpenTab=function(i,r,t){void 0===t&&(t=!1);var s=i=void 0!==i?i:"";i=i.split("#")[0].split("?")[0];var a=this.getSfIdFromUrl(i),c=function(t,e){return!(!t||!e)&&-1!==t.indexOf(e,t.length-e.length)},l=function(t){return!t.success&&(g(f,i),!0)},u=function(){console.log("Unexpected Behaviour? Please check your Domain is set in your Salesforce App's 'Whitelist Domains' section."),console.log("Settings are located in Build > Apps > ‘App Name’ (edit) > Whitelist Domains")},d=0,p=!1,h=0,f=null,g=function(t,e){window.sforce.console.openSubtab(t,s,!0,r,null,function(t){t.success||(window.open(s),u())})},n=function(t,e){if(!l(t)&&(h++,!p)){var n=$.parseJSON(t.pageInfo).url;n=n?n.split("#")[0].split("?")[0]:n;var o=$.parseJSON(t.pageInfo).objectId;((o=o?o.substr(0,15):n)==a||c(i,n)||c(n,i))&&(window.sforce.console.focusSubtabById(e),p=!0),d--,p||0!=d||g(f,i)}},e=function(e){if(!l(e)){d=e.ids.length;for(var t=0;t<e.ids.length;t++)window.sforce.console.getPageInfo(e.ids[t],function(t){n(t,e.ids[h])})}};t||window.sforce.console.getFocusedPrimaryTabId(function(t){l(t)||(f=t.id,window.sforce.console.getSubtabIds(t.id,e))});var m=0,v=0,o=function(t,e){if(!l(t)&&(v++,!p)){var n=$.parseJSON(t.pageInfo).url;n=n?n.split("#")[0].split("?")[0]:n;var o=$.parseJSON(t.pageInfo).objectId;((o=o?o.substr(0,15):n)==a||c(i,n)||c(n,i))&&(window.sforce.console.focusPrimaryTabById(e),p=!0),m--,p||0!=m||window.sforce.console.openPrimaryTab(null,s,!0,r,function(t){t.success||(window.open(s),u())})}};t&&window.sforce.console.getPrimaryTabIds(function(e){if(!l(e)){m=e.ids.length;for(var t=0;t<e.ids.length;t++)window.sforce.console.getPageInfo(e.ids[t],function(t){o(t,e.ids[v])})}})},l.getSfIdFromUrl=function(t){var e=t.substr(t.lastIndexOf("/")+1,18);return/^\w+$/.test(e)?e.substr(0,15):t.split("#")[0].split("?")[0]},l.expandStringUsingRecord=function(t,e){if(null!=t){var n=t.match(/\{!(>?)(.*?)\}/g);if(null!=n)for(var o=0;o<n.length;o++){var i=n[o],r=/\{!(>?)(.*?)\}/g.exec(i),s=">"===r[1],a=r[2].toLowerCase(),c="";null!=e[a]&&(c=e[a].toString(),s&&(c=l.cleanSentenceForQuery(c))),t=t.replace(r[0],c)}}return t},l.expandStringUsingExpert=function(t,e){if(null!=t){var n=t.match(/%(\w+)%/g);if(null!=n)for(var o=0;o<n.length;o++){var i=n[o],r=/%(\w+)%/g.exec(i),s=r[1].toLowerCase(),a=c.Utils.getFieldValue(e,s);a=null!=a?l.cleanSentenceForQuery(a):"",t=t.replace(r[0],a)}}return t},l.cleanSentenceForQuery=function(t){return t.replace(/[\[\]"'\(\),\.@=<>:]/g,"")},l.parseStringTemplate=function(t,o){var i=this;return t?t.replace(/\$\{(.*?)\}/g,function(t){var e=t.substring(2,t.length-1),n=i.readFromObject(o,e);return n||(n=i.readFromObject(window,e)),n||""}):""},l.readFromObject=function(t,e){if(t&&-1!==e.indexOf(".")){var n=e.substring(e.indexOf(".")+1);return e=e.substring(0,e.indexOf(".")),this.readFromObject(t[e],n)}return t?t[e]:void 0},l}();e.SalesforceUtilities=o},35:function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(26),c=n(6),i=function(i){function t(t,e,n){var o=i.call(this,t,e,n)||this;return o.element=t,o.options=e,$(o.root).on(s.QueryEvents.doneBuildingQuery,$.proxy(o.handleDoneBuildingQueryForAttachedResults,o)),o.bind.on(window,c.UserActionEvents.attachedResultChange,function(t){return o.handleAttachedResultChangeEvent(t)}),"undefined"!=typeof attachToCaseEndpoint&&null!=attachToCaseEndpoint&&o.setAttachToCaseEndpoint(attachToCaseEndpoint),o}return r(t,i),t.prototype.setAttachToCaseEndpoint=function(t){null!=t&&(this.attachToCaseEndpoint=t)},t.prototype.handleAttachedResultChangeEvent=function(t){this.attachToCaseEndpoint.caseId==t.caseId&&(this.attachToCaseEndpoint.data.attachedResults=t.attachedResults)},t.prototype.handleDoneBuildingQueryForAttachedResults=function(t,e){if(!this.disabled&&this.isSelected()&&this.attachToCaseEndpoint){var n=this.attachToCaseEndpoint.data;if(n.succeeded){var o=new s.ExpressionBuilder;o.add(a.getExpressions(n.attachedResults)),this.options.expression&&o.add(this.options.expression),this.options.constant?(e.queryBuilder.constantExpression=o,e.queryBuilder.advancedExpression=new s.ExpressionBuilder):(e.queryBuilder.constantExpression=new s.ExpressionBuilder,e.queryBuilder.advancedExpression=o)}}},t.ID="AttachedResultsTab",t}(s.Tab);e.AttachedResultsTab=i,s.Initialization.registerAutoCreateComponent(i)},58:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),c=n(73),r=function(r){function s(t,e,n,o){var i=r.call(this,t,s.ID,n)||this;return i.options=a.ComponentOptions.initComponentOptions(t,s,e),i.result=o||i.resolveResult(),i.options.contentTemplate||(i.options.contentTemplate=new c.SalesforceDefaultQuickviewTemplate),i.quickview=new a.Quickview(t,e,n,i.result),i}return i(s,r),s.prototype.open=function(){this.quickview.open()},s.prototype.close=function(){this.quickview.close()},s.prototype.getHashId=function(){return this.quickview.getHashId()},s.ID="SalesforceQuickview",s.options=a.Quickview.options,s}(a.Component);e.SalesforceQuickview=r,a.Initialization.registerAutoCreateComponent(r),a.Initialization.registerComponentFields("SalesforceQuickview",["date"])},6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.enterOnSearchbox="enterOnSearchbox",t.quickviewLoaded="quickviewLoaded",t.openQuickview="openQuickview",t.attachToCase="attachToCase",t.detachFromCase="detachFromCase",t.attachedResultChange="attachedResultChange",t.attachToCaseStateChanged="attachToCaseStateChanged",t.sendAsEmail="sendAsEmail",t.postToFeed="postToFeed",t.sendToLiveAgent="sendToLiveAgent",t}();e.UserActionEvents=o;var i=function(){function t(){}return t.sendAsEmail={name:o.sendAsEmail,type:"resultAction"},t.postToFeed={name:o.postToFeed,type:"resultAction"},t.sendToLiveAgent={name:o.sendToLiveAgent,type:"resultAction"},t}();e.UserActionCause=i},7:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),c=n(3),r=function(r){function s(t,e,n,o){var i=r.call(this,t,a.ComponentOptions.initComponentOptions(t,s,e),n,o)||this;return i.element=t,i.options=e,i.result=o,i}return i(s,r),s.prototype.bindEventToOpen=function(){var t=this;if(c.SalesforceUtilities.isInSalesforceConsole()){var e=!1;return this.options.openInPrimaryTab?($(this.element).click(function(){c.SalesforceUtilities.focusOrOpenTab(decodeURIComponent(t.result.clickUri),t.result.title,!0)}),e=!0):this.options.openInSubTab&&($(this.element).click(function(){c.SalesforceUtilities.focusOrOpenTab(decodeURIComponent(t.result.clickUri),t.result.title,!1)}),e=!0),e||(e=r.prototype.bindEventToOpen.call(this)),e}if(!c.SalesforceUtilities.isInLightning()||!this.areOptionsSupportedInLightning())return r.prototype.bindEventToOpen.call(this);this.bindEventToOpenInLightning()},s.prototype.areOptionsSupportedInLightning=function(){return!this.options.alwaysOpenInNewWindow&&!this.options.openInOutlook&&!this.options.openQuickview},s.prototype.bindEventToOpenInLightning=function(){var e=this;$(this.element).on("click",function(){var t=e.createLightningClickEvent();a.Assert.isNotNull(t),t.fire()})},s.prototype.createLightningClickEvent=function(){var t;return void 0!==this.result.raw.sfid?(t=$A.get("e.force:navigateToSObject")).setParams({recordId:this.getIdForNavigateToSObject()}):(t=$A.get("e.force:navigateToURL")).setParams({url:this.result.clickUri}),t},s.prototype.getIdForNavigateToSObject=function(){var t=this.result.raw.sfid;return void 0!==this.result.raw.sfkbid&&void 0!==this.result.raw.sfkavid&&(t=this.result.raw.sfkavid),t},s.ID="SalesforceResultLink",s.options={openInPrimaryTab:a.ComponentOptions.buildBooleanOption({defaultValue:!0}),openInSubTab:a.ComponentOptions.buildBooleanOption({defaultValue:!1})},s}(a.ResultLink);(e.SalesforceResultLink=r).options=_.extend({},a.ResultLink.options,r.options),a.Initialization.registerAutoCreateComponent(r),a.Initialization.registerComponentFields(r.ID,a.Initialization.getRegisteredFieldsComponentForQuery(a.ResultLink.ID).concat(["sfid","sfkbid","sfkavid"]))},70:function(t,n,e){"use strict";function o(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),o(e(25)),o(e(71)),o(e(35)),o(e(12)),o(e(27)),o(e(7)),o(e(72)),o(e(58)),o(e(75)),o(e(76)),o(e(78)),o(e(80)),o(e(19)),o(e(3));var i=e(82);Object.keys(i).forEach(function(t){String.locales=String.locales||{},String.locales.en=String.locales.en||{},String.locales.en[t]=i[t].en}),String.toLocaleString.call(this,{en:String.locales.en})},71:function(t,e,n){"use strict";var o,s=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),c=n(26),l=n(6),i=function(i){function r(t,e,n){var o=i.call(this,t,r.ID,n)||this;return o.element=t,o.options=e,o.options=a.ComponentOptions.initComponentOptions(t,r,e),o.attachToCaseEndpoint=o.options.attachToCaseEndpoint(),a.Assert.exists(o.attachToCaseEndpoint),o.bind.onRootElement(a.QueryEvents.doneBuildingQuery,function(t){return o.handleDoneBuildingQueryForAttachedResults(t)}),o.attachToCaseEndpoint=o.options.attachToCaseEndpoint(),c.handleEndpointDataPromise(o.attachToCaseEndpoint).then(function(){o.queryController.executeQuery()}),o.bind.on(window,l.UserActionEvents.attachedResultChange,function(t){return o.handleAttachedResultChangeEvent(t)}),o}return s(r,i),r.prototype.handleAttachedResultChangeEvent=function(t){this.attachToCaseEndpoint.caseId==t.caseId&&(this.attachToCaseEndpoint.data.attachedResults=t.attachedResults,this.queryController.executeQuery())},r.prototype.handleDoneBuildingQueryForAttachedResults=function(t){if(!this.disabled){var e=this.attachToCaseEndpoint.data;if(null!=this.attachToCaseEndpoint&&e.succeeded){var n=new a.ExpressionBuilder;n.add(c.getExpressions(e.attachedResults)),t.queryBuilder.constantExpression=new a.ExpressionBuilder,t.queryBuilder.advancedExpression=n}}},r.ID="AttachedResultsFilter",r.options={attachToCaseEndpoint:a.ComponentOptions.buildCustomOption(function(){return window.attachToCaseEndpoint},{defaultFunction:function(){return window.attachToCaseEndpoint}})},r}(a.Component);e.AttachedResultsFilter=i,a.Initialization.registerAutoCreateComponent(i)},72:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r=function(r){function s(t,e,n,o){var i=r.call(this,t,a.ComponentOptions.initComponentOptions(t,s,e),n,o)||this;return i.element=t,i.options=e,i.result=o,i}return i(s,r),s.prototype.bindEventToOpen=function(){return this.options.workspaceAPI?this.bindClickForLightningConsole():(console.log("ConsoleResultLink: workspaceAPI is null, binding ResultLink open instead."),r.prototype.bindEventToOpen.call(this))},s.prototype.bindClickForLightningConsole=function(){var t=(this.options.openInSubTab?this.openInSubTab:this.openInPrimaryTab).bind(this);return $(this.element).click(function(){t().catch(function(t){console.log(t)})}),!0},s.prototype.openInPrimaryTab=function(){return this.options.hrefTemplate?this.openUrlInPrimaryTab(this.parseStringTemplate(this.options.hrefTemplate)):this.openRecordInPrimaryTab(this.getResultSfId())},s.prototype.openInSubTab=function(){return this.options.hrefTemplate?this.openUrlInSubTab(this.parseStringTemplate(this.options.hrefTemplate)):this.openRecordIdInSubTab(this.getResultSfId())},s.prototype.openRecordInPrimaryTab=function(t){return t?this.options.workspaceAPI.openTab({recordId:t,focus:!0}):(console.log("ConsoleResultLink: Could not find a Salesforce ID to navigate to, doing nothing."),Promise.resolve())},s.prototype.openUrlInPrimaryTab=function(t){return this.options.workspaceAPI.openTab({url:t,focus:!0})},s.prototype.openRecordIdInSubTab=function(e){var n=this;return e?this.options.workspaceAPI.getFocusedTabInfo().then(function(t){return n.options.workspaceAPI.openSubtab({parentTabId:t.tabId,recordId:e,focus:!0})}):(console.log("ConsoleResultLink: Could not find a Salesforce ID to navigate to, doing nothing."),Promise.resolve())},s.prototype.openUrlInSubTab=function(e){var n=this;return this.options.workspaceAPI.getFocusedTabInfo().then(function(t){return n.options.workspaceAPI.openSubtab({parentTabId:t.tabId,url:e,focus:!0})})},s.prototype.getResultSfId=function(){var t=this.result.raw.sfid;return void 0!==this.result.raw.sfkbid&&void 0!==this.result.raw.sfkavid&&(t=this.result.raw.sfkavid),t||""},s.ID="ConsoleResultLink",s.fields=["sfkbid","sfkavid","sfid"],s.options={hrefTemplate:a.ComponentOptions.buildStringOption(),titleTemplate:a.ComponentOptions.buildStringOption(),openInSubTab:a.ComponentOptions.buildBooleanOption({defaultValue:!1}),workspaceAPI:a.ComponentOptions.buildCustomOption(function(){return null},{defaultValue:null,required:!0})},s}(a.ResultLink);e.ConsoleResultLink=r,a.Initialization.registerComponentFields(r.ID,r.fields),a.Initialization.registerAutoCreateComponent(r)},73:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(74),a=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.instantiateToString=function(t){return'<div class="coveo-quick-view-full-height">\n      <div class="'+r.Component.computeCssClassName(s.SalesforceQuickviewDocument)+'" style="height: 100%;">\n      </div>\n    </div>'},e}(r.Template);e.SalesforceDefaultQuickviewTemplate=a},74:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=function(r){function s(t,e,n,o){var i=r.call(this,t,s.ID,n)||this;return i.result=o||i.resolveResult(),i.buildIFrame(),i}return i(s,r),s.prototype.buildIFrame=function(){var t=document.createElement("iframe"),e={queryObject:this.queryController.getLastQuery()};t.src=this.queryController.getEndpoint().getViewAsHtmlUri(this.result.uniqueId,e),this.element.appendChild(t)},s.ID="SalesforceQuickviewDocument",s}(r.Component);e.SalesforceQuickviewDocument=s,r.Initialization.registerAutoCreateComponent(s)},75:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),r=function(r){function s(t,e,n,o){var i=r.call(this,t,s.ID,n)||this;return i.element=t,i.options=e,i.bindings=n,i.result=o,i.options=a.ComponentOptions.initComponentOptions(t,s,e),i.parentResult=a.$$(i.element).closest("CoveoResult"),a.Assert.check(void 0!==i.parentResult,"ResultActionsMenu needs to be a child of a Result"),a.$$(i.parentResult).addClass("coveo-clickable"),i.bindEvents(),i.buildMenuItems(),i}return i(s,r),s.prototype.bindEvents=function(){var t=this;a.$$(this.parentResult).on("click",function(){return t.show()}),a.$$(this.parentResult).on("mouseleave",function(){return t.hide()}),this.options.openOnMouseOver&&a.$$(this.parentResult).on("mouseenter",function(){return t.show()})},s.prototype.buildMenuItems=function(){var e=this;this.menuItems=[],_.forEach(a.$$(this.element).children(),function(t){e.menuItems.push(t),a.$$(t).addClass("coveo-result-actions-menu-menu-item")})},s.prototype.show=function(){a.$$(this.element).addClass(s.SHOW_CLASS)},s.prototype.hide=function(){a.$$(this.element).removeClass(s.SHOW_CLASS)},s.ID="ResultActionsMenu",s.SHOW_CLASS="coveo-menu-opened",s.options={openOnMouseOver:a.ComponentOptions.buildBooleanOption({defaultValue:!0})},s}(a.Component);e.ResultActionsMenu=r,a.Initialization.registerAutoCreateComponent(r)},76:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),c=n(3),l=n(6),u=n(19),d=n(77),r=function(r){function s(t,e,n,o){var i=r.call(this,t,s.ID,n)||this;return i.element=t,i.options=e,i.bindings=n,i.result=o,i.options=a.ComponentOptions.initComponentOptions(t,s,e),a.$$(i.element).addClass("coveo-hidden"),i.options.quickActionAPI?i.options.quickActionAPI.getCustomAction({actionName:s.actionName}).then(function(t){t.success?i.init():i.deactivate(t.errors)},function(t){return i.deactivate(t)}):i.deactivate("You need to provide the Salesforce QuickAction API for this component to work."),i}return i(s,r),s.prototype.deactivate=function(t){this.logger.warn(s.actionName+" action isn't available, component will unrender.",t),this.element.remove()},s.prototype.sendEmail=function(){var e=this;if(null==this.options.quickActionAPI)throw new Error("The QuickAction Lightning API is required");var n={actionName:s.actionName,targetFields:{HtmlBody:{value:c.SalesforceUtilities.parseStringTemplate(this.options.htmlBody,this.result),insertType:this.options.insertType}}};this.bind.trigger(a.$$(this.root),u.ResultActionsEvents.onSendAsEmail,{result:this.result,args:n}),this.usageAnalytics.logClickEvent(l.UserActionCause.sendAsEmail,null,this.result,this.root),this.options.quickActionAPI.setActionFieldValues(n).then(function(t){t.success?e.logger.info("Action sent",n,t):e.showError(t)},function(t){return e.showError(t)})},s.prototype.init=function(){this.render(),this.bindEvent()},s.prototype.render=function(){a.$$(this.element).removeClass("coveo-hidden");var t=document.createElement("span");t.innerHTML=d,this.element.appendChild(t);var e=document.createElement("span");e.innerText=a.l("SendAsEmail_tooltip"),e.className="coveo-caption-for-icon",this.element.appendChild(e)},s.prototype.bindEvent=function(){var t=this;this.element.onclick=function(){return t.sendEmail()}},s.prototype.showError=function(t){var e=$A.get("e.force:showToast");e.setParams({title:"Error",type:"error",message:"An error occured while performing the desired action. Make sure the quick action is in your page layout."}),e.fire(),this.logger.error("An error occured while performing the desired action.",t.errors,t.targetFieldErrors)},s.ID="ResultActionsSendEmail",s.options={quickActionAPI:a.ComponentOptions.buildCustomOption(function(){return null},{required:!0}),htmlBody:a.ComponentOptions.buildStringOption({defaultValue:'<a href="${ClickUri}">${title}</a>.'}),insertType:a.ComponentOptions.buildStringOption({defaultValue:"replace"})},s.actionName="Case.SendEmail",s}(a.Component);e.ResultActionsSendEmail=r,a.Initialization.registerAutoCreateComponent(r)},77:function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 52 36" enable-background="new 0 0 52 36" xml:space="preserve">\r\n<g>\r\n\t<path d="M50,0H2C0.896,0,0,0.896,0,2v32c0,1.104,0.896,2,2,2h48c1.104,0,2-0.896,2-2V2C52,0.896,51.104,0,50,0z M44.476,4\r\n\t\tL26,19.396L7.524,4H44.476z M4,32V6.27l20.72,17.266C25.09,23.846,25.545,24,26,24c0.455,0,0.91-0.154,1.28-0.464L48,6.27V32H4z"/>\r\n</g>\r\n</svg>\r\n'},78:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),c=n(3),l=n(6),u=n(19),d=n(79),r=function(r){function s(t,e,n,o){var i=r.call(this,t,s.ID,n)||this;return i.element=t,i.options=e,i.bindings=n,i.result=o,i.options=a.ComponentOptions.initComponentOptions(t,s,e),a.$$(i.element).addClass("coveo-hidden"),i.options.quickActionAPI?i.options.quickActionAPI.getCustomAction({actionName:s.actionName}).then(function(t){t.success?i.init():i.deactivate(t.errors)},function(t){return i.deactivate(t)}):i.deactivate("You need to provide the Salesforce QuickAction API for this component to work."),i}return i(s,r),s.prototype.init=function(){this.render(),this.bindEvent()},s.prototype.deactivate=function(t){this.logger.warn(s.actionName+" action isn't available, component will unrender.",t),this.element.remove()},s.prototype.render=function(){a.$$(this.element).removeClass("coveo-hidden");var t=document.createElement("span");t.innerHTML=d,this.element.appendChild(t);var e=document.createElement("span");e.innerText=a.l("PostToFeed_tooltip"),e.className="coveo-caption-for-icon",this.element.appendChild(e)},s.prototype.bindEvent=function(){var t=this;this.element.onclick=function(){return t.postToFeed()}},s.prototype.postToFeed=function(){var e=this;if(null==this.options.quickActionAPI)throw new Error("The QuickAction Lightning API is required");var n={actionName:s.actionName,targetFields:{Body:{value:c.SalesforceUtilities.parseStringTemplate(this.options.body,this.result),insertType:this.options.insertType}},submitOnSuccess:this.options.autoSubmit};this.bind.trigger(a.$$(this.root),u.ResultActionsEvents.onPostToFeed,{result:this.result,args:n}),this.usageAnalytics.logClickEvent(l.UserActionCause.postToFeed,null,this.result,this.root),this.options.quickActionAPI.setActionFieldValues(n).then(function(t){t.success?e.logger.info("Action sent",n,t):e.showError(t)},function(t){return e.showError(t)})},s.prototype.showError=function(t){var e=$A.get("e.force:showToast");e.setParams({title:"Error",type:"error",message:"An error occured while performing the desired action. Make sure the quick action is in your page layout."}),e.fire(),this.logger.error("An error occured while performing the desired action.",t.errors,t.targetFieldErrors)},s.ID="ResultActionsPostToFeed",s.options={quickActionAPI:a.ComponentOptions.buildCustomOption(function(){return null},{required:!0}),body:a.ComponentOptions.buildStringOption({defaultValue:'<b>${title}</b> (${ClickUri})<br /><p><i>"${Excerpt}"</i></p>'}),autoSubmit:a.ComponentOptions.buildBooleanOption({defaultValue:!1}),insertType:a.ComponentOptions.buildStringOption({defaultValue:"replace"})},s.actionName="FeedItem.TextPost",s}(a.Component);e.ResultActionsPostToFeed=r,a.Initialization.registerAutoCreateComponent(r)},79:function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\r\n\x3c!-- Generator: Adobe Illustrator 21.1.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\r\n<svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\r\n\t viewBox="0 0 90 78.58" enable-background="new 0 0 90 78.58" xml:space="preserve">\r\n<g>\r\n\t<path fill="none" d="M66.024,56.591c-0.014-0.199,0.001-0.395,0.014-0.592c0.006-0.093-0.001-0.188,0.011-0.279\r\n\t\tc0.02-0.148,0.064-0.289,0.099-0.433c0.031-0.131,0.05-0.267,0.094-0.394c0.031-0.092,0.082-0.177,0.119-0.267\r\n\t\tc0.07-0.167,0.133-0.337,0.223-0.492c0.068-0.119,0.159-0.225,0.238-0.338c0.081-0.114,0.151-0.236,0.242-0.341\r\n\t\tc0.078-0.091,0.175-0.167,0.262-0.252c0.116-0.114,0.225-0.233,0.353-0.334c0.069-0.054,0.15-0.094,0.223-0.144\r\n\t\tc0.166-0.114,0.331-0.228,0.513-0.319c0.01-0.005,0.018-0.013,0.028-0.018c8.246-4.05,13.281-12.595,12.827-21.768\r\n\t\tC80.666,18.417,70.621,8.828,58.404,8.788L31.757,8.701c-0.024,0-0.051,0-0.075,0c-12.521,0-22.815,10.163-22.966,22.692\r\n\t\tL8.704,32.39c-0.076,6.337,2.376,12.267,6.906,16.698c4.53,4.432,10.521,6.773,16.845,6.536l22.463-0.768\r\n\t\tc0.076-0.002,0.148,0.015,0.224,0.017c0.212,0.004,0.424,0.013,0.634,0.048c0.027,0.005,0.053,0.014,0.08,0.019\r\n\t\tc0.765,0.141,1.504,0.475,2.124,1.033l8.585,7.739l-0.542-7.088C66.022,56.613,66.025,56.603,66.024,56.591z"/>\r\n\t<path d="M89.961,30.191C89.127,13.366,75.278,0.142,58.431,0.088L31.785,0c-0.034,0-0.069,0-0.104,0\r\n\t\tC14.419,0,0.223,14.015,0.014,31.291l-0.012,0.996C-0.103,41.024,3.279,49.2,9.525,55.31c5.979,5.847,13.793,9.031,22.109,9.031\r\n\t\tc0.372,0,0.745-0.006,1.119-0.019l20.706-0.708l15.36,13.846c0.817,0.736,1.86,1.12,2.915,1.12c0.651,0,1.308-0.147,1.917-0.446\r\n\t\tc1.598-0.785,2.556-2.462,2.42-4.236l-1.16-15.169C84.698,52.712,90.537,41.825,89.961,30.191z M57.98,55.974\r\n\t\tc-0.62-0.559-1.359-0.892-2.124-1.033c-0.027-0.005-0.053-0.015-0.08-0.019c-0.21-0.035-0.422-0.044-0.634-0.048\r\n\t\tc-0.076-0.002-0.148-0.019-0.224-0.017l-22.463,0.768c-6.324,0.237-12.315-2.104-16.845-6.536\r\n\t\tc-4.529-4.43-6.982-10.361-6.906-16.698l0.012-0.996C8.867,18.866,19.161,8.703,31.682,8.703c0.024,0,0.051,0,0.075,0L58.404,8.79\r\n\t\tc12.218,0.039,22.262,9.629,22.866,21.832c0.454,9.173-4.581,17.718-12.827,21.768c-0.01,0.005-0.018,0.013-0.028,0.018\r\n\t\tc-0.182,0.091-0.347,0.205-0.513,0.319c-0.073,0.05-0.154,0.09-0.223,0.144c-0.128,0.1-0.237,0.22-0.353,0.334\r\n\t\tc-0.086,0.085-0.183,0.161-0.262,0.252c-0.091,0.106-0.162,0.227-0.242,0.341c-0.079,0.113-0.17,0.219-0.238,0.338\r\n\t\tc-0.089,0.156-0.153,0.326-0.223,0.492c-0.037,0.09-0.088,0.174-0.119,0.267c-0.043,0.127-0.062,0.262-0.094,0.394\r\n\t\tc-0.035,0.144-0.079,0.286-0.099,0.433c-0.012,0.091-0.005,0.186-0.011,0.279c-0.014,0.197-0.028,0.393-0.014,0.592\r\n\t\tc0.001,0.011-0.002,0.022-0.001,0.033l0.542,7.088L57.98,55.974z"/>\r\n</g>\r\n</svg>\r\n'},80:function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),c=n(3),l=n(6),u=n(19),d=n(81),r=function(r){function s(t,e,n,o){var i=r.call(this,t,s.ID,n)||this;return i.element=t,i.options=e,i.bindings=n,i.result=o,i.options=a.ComponentOptions.initComponentOptions(t,s,e),a.$$(i.element).addClass("coveo-hidden"),i.options.conversationToolkit?i.options.recordId&&i.options.recordId.substr(0,3)===s.LiveChatTranscriptObjectPrefix?i.options.conversationToolkit.getChatLog({recordId:i.options.recordId}).then(function(t){return i.init()},function(t){return i.deactivate(t)}):i.deactivate("Unsupported ID prefix "+i.options.recordId.substr(0,3)):i.deactivate("You need to provide the Salesforce ConversationToolkit API for this component to work."),i}return i(s,r),s.prototype.init=function(){this.render(),this.bindEvent()},s.prototype.deactivate=function(t){console.warn("There's no active conversation, component will not render.",t),this.element.remove()},s.prototype.render=function(){a.$$(this.element).removeClass("coveo-hidden");var t=document.createElement("span");t.innerHTML=d,this.element.appendChild(t);var e=document.createElement("span");e.innerText=a.l("LiveAgent_tooltip"),e.className="coveo-caption-for-icon",this.element.appendChild(e)},s.prototype.bindEvent=function(){var t=this;this.element.onclick=function(){return t.postToLiveAgent()},this.bind.onRootElement(u.ResultActionsEvents.onChatEnded,function(){return t.handleChatEnded()})},s.prototype.handleChatEnded=function(){this.logger.info("Chat ended, removing the component."),this.element.remove()},s.prototype.postToLiveAgent=function(){var e=this,t={recordId:this.options.recordId,message:c.SalesforceUtilities.parseStringTemplate(this.options.text,this.result)};this.bind.trigger(a.$$(this.root),u.ResultActionsEvents.onSendToLiveAgent,{result:this.result,args:t}),this.usageAnalytics.logClickEvent(l.UserActionCause.sendToLiveAgent,null,this.result,this.root),this.options.conversationToolkit.sendMessage(t).then(function(){e.logger.info("Action sent",t)},function(t){return e.showError(t)})},s.prototype.showError=function(t){var e="An error occured while performing the desired action.",n=$A.get("e.force:showToast");n.setParams({title:"Error",type:"error",message:e}),n.fire(),this.logger.error(e,t)},s.ID="ResultActionsSendLiveAgent",s.options={conversationToolkit:a.ComponentOptions.buildCustomOption(function(){return null},{required:!0}),recordId:a.ComponentOptions.buildStringOption({defaultValue:null,required:!0}),text:a.ComponentOptions.buildStringOption({defaultValue:"${title} ${ClickUri}"})},s.LiveChatTranscriptObjectPrefix="570",s}(a.Component);e.ResultActionsSendLiveAgent=r,a.Initialization.registerAutoCreateComponent(r)},81:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="quick_text" width="100%" height="100%"><path d="M12 1.5C5.8 1.5.7 6.2.7 11.9c0 1.8.5 3.5 1.4 5 .1.3.2.5.1.8l-1.5 4c-.1.4.2.7.6.6l4.1-1.5c.2-.1.5-.1.7.1 1.7.9 3.8 1.5 6 1.5 6.2-.1 11.3-4.7 11.3-10.4 0-5.8-5.1-10.5-11.4-10.5zm-5.2 10c0-.2.2-.4.4-.4h7.4c.2 0 .4.2.4.4v1c0 .2-.1.4-.4.4H7.2c-.2 0-.5-.2-.5-.4v-1zM17.4 16c0 .2-.2.4-.5.4H7.2c-.2 0-.5-.2-.5-.4v-.9c0-.2.2-.5.5-.5h9.7c.2 0 .5.2.5.5v.9zm0-7.1c0 .2-.2.5-.5.5H7.2c-.2 0-.5-.2-.5-.5V8c0-.2.2-.4.5-.4h9.7c.2 0 .5.2.5.4v.9z"></path></svg>'},82:function(t,e){t.exports={CommunityStateManager_placeholder:{en:"Placeholder"},CommunityStateManager_inline:{en:"Show Omnibox results inline"},CommunityStateManager_addSearchButton:{en:"Include search button"},CommunityStateManager_enableFieldAddon:{en:"Enable field addon"},CommunityStateManager_enableSimpleFieldAddon:{en:"Enable simple field addon"},CommunityStateManager_listOfFields:{en:"List of fields"},CommunityStateManager_enableTopQueryAddon:{en:"Enable top query addon"},CommunityStateManager_enableQuerySuggestAddon:{en:"Enable Coveo Machine Learning query suggestions addon"},CommunityStateManager_enableQueryExtensionAddon:{en:"Enable query extension addon"},CommunityStateManager_activateOmnibox:{en:"Activate Omnibox"},CommunityStateManager_autoFocus:{en:"Auto focus"},CommunityStateManager_disableQuerySyntax:{en:"Disable query syntax"},CommunityStateManager_enableLowercaseOperators:{en:"Enable lowercase operators"},CommunityStateManager_enablePartialMatch:{en:"Enable partial match"},CommunityStateManager_enableQuerySyntax:{en:"Enable query syntax"},CommunityStateManager_enableOmnibox:{en:"Enable Omnibox"},CommunityStateManager_enableQuestionMarks:{en:"Enable question marks"},CommunityStateManager_enableSearchAsYouType:{en:"Enable search as you type"},CommunityStateManager_enableWildcards:{en:"Enable wildcards"},CommunityStateManager_partialMatchKeywords:{en:"Partial match query threshold"},CommunityStateManager_partialMatchThreshold:{en:"Partial match result threshold"},CommunityStateManager_searchAsYouTypeDelay:{en:"Search as you type delay"},CommunityStateManager_omniboxDelay:{en:"Omnibox delay"},CommunityStateManager_omniboxTimeout:{en:"Omnibox timeout"},CommunityStateManager_omniboxChangeLimit:{en:"Omnibox change limit"},CommunityStateManager_omniboxMinimumLetters:{en:"Omnibox minimum letters"},CommunityStateManager_triggerQueryOnClear:{en:"Trigger new query on clear"},Attached_tooltip:{en:"Detach"},Attach_tooltip:{en:"Attach to Case"},SendAsEmail_tooltip:{en:"Send as Email"},PostToFeed_tooltip:{en:"Post to Feed"},LiveAgent_tooltip:{en:"Send to Chat"}}}}),function(t,e){for(var n in e)t[n]=e[n]}(window.Coveo||{},Coveo_tmp_SF);